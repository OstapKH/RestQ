# Spring Boot Configuration
server.port=8086

# Database Configuration (will be overridden by environment variables)
spring.datasource.url=jdbc:postgresql://localhost:5432/tpccdb
spring.datasource.username=admin
spring.datasource.password=password
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Benchmark Configuration
benchmark.type=TPCC

# TPCC Database Configuration (needed by TPCCDatabaseLoaderConfig from core module)
app.database.tpcc.url=jdbc:postgresql://localhost:5432/tpccdb
app.database.username=admin
app.database.password=password
app.database.scale-factor=1
app.database.terminals=1
app.database.batch-size=1000
app.database.tpcc.batch-size=500

# Temporary fix for bean conflicts
spring.main.allow-bean-definition-overriding=true

# Reduce JPA auto-configuration conflicts
spring.jpa.open-in-view=false

# Debug conditional properties
logging.level.org.springframework.boot.autoconfigure.condition=DEBUG
logging.level.com.restq.api_http.config=DEBUG
logging.level.com.restq.api_http.Controllers=DEBUG

# Hikari Connection Pool Configuration (injected from inventory)
spring.datasource.hikari.auto-commit=${HIKARI_AUTO_COMMIT:true}
spring.datasource.hikari.connection-timeout=${HIKARI_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT:600000}
spring.datasource.hikari.keepalive-time=${HIKARI_KEEPALIVE_TIME:30000}
spring.datasource.hikari.max-lifetime=${HIKARI_MAX_LIFETIME:1800000}
spring.datasource.hikari.maximum-pool-size=${HIKARI_MAXIMUM_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${HIKARI_MINIMUM_IDLE:5}
spring.datasource.hikari.initialization-fail-timeout=${HIKARI_INITIALIZATION_FAIL_TIMEOUT:1}
spring.datasource.hikari.isolate-internal-queries=${HIKARI_ISOLATE_INTERNAL_QUERIES:false}
spring.datasource.hikari.allow-pool-suspension=${HIKARI_ALLOW_POOL_SUSPENSION:false}
spring.datasource.hikari.read-only=${HIKARI_READ_ONLY:false}
spring.datasource.hikari.register-mbeans=${HIKARI_REGISTER_MBEANS:false}
spring.datasource.hikari.validation-timeout=${HIKARI_VALIDATION_TIMEOUT:5000}

jakarta.persistence.jdbc.url=jdbc:postgresql://localhost:5432/tpccdb
# Logging
logging.level.org.springframework=INFO

# Enable Hibernate SQL logging
spring.jpa.properties.hibernate.format_sql=true

# Log binding parameters (to see the values being passed)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
